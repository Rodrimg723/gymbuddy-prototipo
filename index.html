<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GymBuddy - Full Experience</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,700;0,800;1,700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* --- VARIABLES --- */
        :root {
            --primary: #2563EB;
            --accent: #F59E0B;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-main: #1F2937;
            --text-light: #6B7280;
            --radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            /* Fondo deportivo */
            background: linear-gradient(rgba(17, 24, 39, 0.85), rgba(17, 24, 39, 0.9)), 
                        url('https://images.unsplash.com/photo-1571902943202-507ec2618e8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--text-main);
            min-height: 100vh;
            display: flex; flex-direction: column;
        }

        /* --- NAVBAR --- */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            height: 70px;
            padding: 0 2rem;
            display: flex; align-items: center; justify-content: space-between;
            position: sticky; top: 0; z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .logo {
            font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 1.6rem; font-style: italic; color: var(--primary); letter-spacing: -1px; cursor: pointer;
        }
        .logo span { color: var(--accent); }

        .nav-items { display: flex; gap: 2rem; }
        .nav-link { 
            text-decoration: none; color: #374151; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;
            transition: all 0.3s; padding-bottom: 5px; border-bottom: 2px solid transparent; cursor: pointer;
        }
        .nav-link:hover { color: var(--primary); }
        .nav-link.active { color: var(--primary); border-bottom-color: var(--primary); }

        .user-profile {
            display: flex; align-items: center; gap: 10px; background: #F3F4F6; padding: 5px 15px 5px 5px; border-radius: 30px; cursor: pointer;
        }
        .avatar-circle { width: 35px; height: 35px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }

        /* --- LAYOUT PRINCIPAL --- */
        .container {
            max-width: 1400px; width: 100%; margin: 0 auto; padding: 2rem;
            display: grid; gap: 2rem; flex: 1;
        }

        /* Vista FEED (con Sidebar) */
        .view-feed { grid-template-columns: 280px 1fr; }
        /* Vistas Eventos/Mensajes (Sin Sidebar, ancho completo o centrado) */
        .view-full { grid-template-columns: 1fr; max-width: 1000px; }

        /* Ocultar secciones no activas */
        .section-view { display: none; animation: fadeIn 0.4s ease; }
        .section-view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- SIDEBAR (Solo visible en Feed) --- */
        .sidebar {
            background: var(--card-bg); border-radius: var(--radius); padding: 1.5rem; height: fit-content; position: sticky; top: 90px;
        }
        .filter-header { font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 1.1rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 8px; }
        .filter-group { margin-bottom: 1.5rem; }
        .filter-label { font-weight: 700; font-size: 0.85rem; text-transform: uppercase; color: var(--text-light); margin-bottom: 0.8rem; display: block; }
        .checkbox-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; cursor: pointer; font-size: 0.95rem; }
        .checkbox-row input { accent-color: var(--primary); width: 18px; height: 18px; }

        /* --- ESTILOS COMUNES --- */
        .page-header { color: white; margin-bottom: 2rem; }
        .page-header h2 { font-family: 'Montserrat', sans-serif; font-size: 2rem; font-style: italic; margin-bottom: 0.5rem; }
        .page-header p { opacity: 0.8; }

        /* --- FEED STYLES --- */
        .hero-banner {
            background: linear-gradient(135deg, var(--primary), #1e40af); border-radius: var(--radius); padding: 2rem; color: white;
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; position: relative; overflow: hidden;
        }
        .hero-banner::after { content: "GYM"; position: absolute; right: -20px; bottom: -30px; font-size: 8rem; font-weight: 900; color: rgba(255,255,255,0.1); font-family: 'Montserrat', sans-serif; font-style: italic; pointer-events: none; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; }
        .card { background: var(--card-bg); border-radius: var(--radius); overflow: hidden; transition: transform 0.3s; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-5px); }
        .card-top { padding: 1.5rem; display: flex; gap: 1rem; border-bottom: 1px solid #E5E7EB; }
        .avatar { width: 60px; height: 60px; background: #E0F2FE; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; position: relative; flex-shrink: 0; }
        .verified { position: absolute; bottom: 0; right: 0; background: #10B981; color: white; width: 20px; height: 20px; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; border: 2px solid white; }
        .info h3 { font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 1.1rem; }
        .card-body { padding: 1.5rem; flex-grow: 1; }
        .tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .tag { padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .tag-level { background: #DBEAFE; color: #1E40AF; }
        .tag-goal { background: #FFF7ED; color: #9A3412; }
        .card-btn { margin: 1rem 1.5rem; padding: 12px; background: var(--text-main); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; text-transform: uppercase; transition: background 0.2s; }
        .card-btn:hover { background: var(--primary); }

        /* --- ESTILOS EVENTOS --- */
        .event-card {
            background: var(--card-bg); border-radius: var(--radius); padding: 1.5rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 2rem; position: relative; overflow: hidden;
            border-left: 6px solid var(--accent);
        }
        .event-date {
            background: #F3F4F6; padding: 15px; border-radius: 12px; text-align: center; min-width: 80px;
        }
        .event-day { font-size: 1.8rem; font-weight: 800; color: var(--primary); display: block; line-height: 1; }
        .event-month { font-size: 0.9rem; font-weight: 600; text-transform: uppercase; color: var(--text-light); }
        .event-details h3 { font-family: 'Montserrat', sans-serif; font-size: 1.4rem; margin-bottom: 5px; }
        .event-meta { display: flex; gap: 20px; color: var(--text-light); font-size: 0.95rem; margin-bottom: 10px; }
        .event-status { position: absolute; top: 15px; right: 15px; background: #D1FAE5; color: #065F46; padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }

        /* --- ESTILOS MENSAJES --- */
        .msg-list { background: var(--card-bg); border-radius: var(--radius); overflow: hidden; }
        .msg-item {
            padding: 1.5rem; border-bottom: 1px solid #E5E7EB; display: flex; gap: 1.5rem; align-items: center; cursor: pointer; transition: background 0.2s;
        }
        .msg-item:hover { background: #F9FAFB; }
        .msg-content { flex: 1; }
        .msg-header { display: flex; justify-content: space-between; margin-bottom: 5px; }
        .msg-name { font-weight: 700; font-family: 'Montserrat', sans-serif; font-size: 1.1rem; }
        .msg-time { font-size: 0.85rem; color: var(--text-light); }
        .msg-preview { color: var(--text-light); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 500px; }
        .msg-unread .msg-preview { color: var(--text-main); font-weight: 600; }
        .msg-badge { background: var(--primary); color: white; width: 10px; height: 10px; border-radius: 50%; display: inline-block; }

        /* --- RESPONSIVE --- */
        @media (max-width: 800px) {
            .navbar { padding: 0 1rem; }
            .container { grid-template-columns: 1fr; padding: 1rem; }
            .sidebar { display: none; }
            .event-card { flex-direction: column; align-items: flex-start; gap: 1rem; }
            .event-date { width: 100%; display: flex; justify-content: center; gap: 10px; align-items: baseline; }
            .nav-link { font-size: 0.75rem; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="logo" onclick="switchTab('feed')">
            GYM<span>BUDDY</span>
        </div>
        <div class="nav-items">
            <div id="nav-feed" class="nav-link active" onclick="switchTab('feed')">Buscar</div>
            <div id="nav-events" class="nav-link" onclick="switchTab('events')">Mis Eventos</div>
            <div id="nav-messages" class="nav-link" onclick="switchTab('messages')">Mensajes</div>
        </div>
        <div class="user-profile">
            <div class="avatar-circle">U</div>
            <span style="font-weight: 600; font-size: 0.9rem;">Mi Perfil</span>
        </div>
    </nav>

    <main id="main-container" class="container view-feed">
        
        <aside class="sidebar section-view active" id="sidebar-feed">
            <div class="filter-header"><span style="font-size:1.5rem;">‚öôÔ∏è</span> FILTROS</div>
            <div class="filter-group">
                <span class="filter-label">G√©nero</span>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="F"> Mujer</label>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="M"> Hombre</label>
            </div>
            <div class="filter-group">
                <span class="filter-label">Nivel</span>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Principiante"> Principiante</label>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Intermedio"> Intermedio</label>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Avanzado"> Avanzado</label>
            </div>
            <div class="filter-group">
                <span class="filter-label">Edad</span>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Joven"> Joven (18-25)</label>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Adulto"> Adulto (26-50)</label>
                <label class="checkbox-row"><input type="checkbox" checked onchange="updateFeed()" value="Senior"> Senior (+50)</label>
            </div>
        </aside>

        <section id="view-feed" class="feed-area section-view active">
            <div class="hero-banner">
                <div class="hero-text">
                    <h1 style="font-family:'Montserrat',sans-serif; font-weight:800; font-style:italic; font-size:2rem; margin-bottom:0.5rem;">¬°NO ENTRENES SOLO!</h1>
                    <p style="opacity:0.9;">Hay <strong>12 personas</strong> cerca de ti buscando compa√±ero.</p>
                </div>
            </div>
            <div class="cards-grid" id="cards-container">
                </div>
        </section>

        <section id="view-events" class="section-view">
            <div class="page-header">
                <h2>Agenda Deportiva</h2>
                <p>Tus pr√≥ximas quedadas confirmadas.</p>
            </div>
            <div id="events-container">
                </div>
        </section>

        <section id="view-messages" class="section-view">
            <div class="page-header">
                <h2>Bandeja de Entrada</h2>
                <p>Coordina tus entrenamientos aqu√≠.</p>
            </div>
            <div class="msg-list" id="messages-container">
                </div>
        </section>

    </main>

    <script>
        // --- BASE DE DATOS AMPLIADA (12 USUARIOS) ---
        const users = [
            { id: 1, name: "Marta Ruiz", age: 62, gender: "F", type: "Senior", level: "Principiante", gym: "Polideportivo Municipal", bio: "Caminar en cinta y charlar.", emoji: "üëµüèº", goal: "Salud" },
            { id: 2, name: "Dani Garc√≠a", age: 22, gender: "M", type: "Joven", level: "Avanzado", gym: "Basic-Fit Campus", bio: "Spotter serio para d√≠as de pierna.", emoji: "üßîüèª‚Äç‚ôÇÔ∏è", goal: "Fuerza" },
            { id: 3, name: "Luc√≠a P.", age: 24, gender: "F", type: "Joven", level: "Intermedio", gym: "VivaGym Centro", bio: "Clases de Zumba y algo de m√°quinas.", emoji: "üë±üèª‚Äç‚ôÄÔ∏è", goal: "Cardio" },
            { id: 4, name: "Antonio M.", age: 58, gender: "M", type: "Senior", level: "Principiante", gym: "McFit Norte", bio: "Ejercicio suave por salud.", emoji: "üë¥üèº", goal: "Movilidad" },
            { id: 5, name: "Elena Torres", age: 30, gender: "F", type: "Adulto", level: "Avanzado", gym: "CrossFit Box", bio: "Entreno funcional de alta intensidad.", emoji: "üë©üèª", goal: "CrossFit" },
            // --- NUEVOS USUARIOS A√ëADIDOS ---
            { id: 6, name: "Javier R.", age: 20, gender: "M", type: "Joven", level: "Principiante", gym: "Gym Universidad", bio: "Quiero aprender a hacer dominadas.", emoji: "üßëüèª‚Äçü¶±", goal: "Calistenia" },
            { id: 7, name: "Carmen D.", age: 55, gender: "F", type: "Senior", level: "Intermedio", gym: "Centro C√≠vico", bio: "Busco compa√±era para Yoga y Pilates.", emoji: "üßòüèª‚Äç‚ôÄÔ∏è", goal: "Flexibilidad" },
            { id: 8, name: "Roberto K.", age: 32, gender: "M", type: "Adulto", level: "Avanzado", gym: "Basic-Fit", bio: "Preparando competici√≥n de Powerlifting.", emoji: "üèãüèª", goal: "Fuerza" },
            { id: 9, name: "Bea L√≥pez", age: 27, gender: "F", type: "Adulto", level: "Principiante", gym: "GoFit", bio: "Busco chica para motivarnos en Spinning.", emoji: "üö¥üèª‚Äç‚ôÄÔ∏è", goal: "Cardio" },
            { id: 10, name: "Paco H.", age: 68, gender: "M", type: "Senior", level: "Principiante", gym: "Parque Bio", bio: "Caminar y ejercicios sencillos al aire libre.", emoji: "üö∂üèª‚Äç‚ôÇÔ∏è", goal: "Salud" },
            { id: 11, name: "Sergio M.", age: 23, gender: "M", type: "Joven", level: "Intermedio", gym: "DreamFit", bio: "Entreno por las ma√±anas antes de clase.", emoji: "‚è∞", goal: "Hipertrofia" },
            { id: 12, name: "Isabel V.", age: 45, gender: "F", type: "Adulto", level: "Intermedio", gym: "Anytime Fitness", bio: "Entreno fuerza y resistencia. Horario tarde.", emoji: "üí™üèº", goal: "Tonificar" }
        ];

        const events = [
            { day: "24", month: "Ene", title: "Leg Day Intenso", partner: "Dani Garc√≠a", time: "18:00 - 19:30", loc: "Basic-Fit Campus", status: "Confirmado" },
            { day: "26", month: "Ene", title: "Caminata y Estiramientos", partner: "Marta Ruiz", time: "10:00 - 11:00", loc: "Polideportivo Municipal", status: "Confirmado" }
        ];

        const messages = [
            { name: "Marta Ruiz", time: "10:30 AM", text: "¬°Perfecto! Nos vemos en la entrada del polideportivo. Llevo gorra roja.", unread: true, emoji: "üëµüèº" },
            { name: "Dani Garc√≠a", time: "Ayer", text: "¬øTe viene bien cambiarlo a las 18:30? Salgo tarde de clase.", unread: false, emoji: "üßîüèª‚Äç‚ôÇÔ∏è" },
            { name: "Luc√≠a P.", time: "Lun", text: "Gracias por el entreno de hoy, ¬°agotada pero feliz!", unread: false, emoji: "üë±üèª‚Äç‚ôÄÔ∏è" }
        ];

        // --- L√ìGICA DE NAVEGACI√ìN ---
        function switchTab(tab) {
            // 1. Gestionar clases del Navbar
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            document.getElementById(`nav-${tab}`).classList.add('active');

            // 2. Gestionar vistas (ocultar todo primero)
            document.querySelectorAll('.section-view').forEach(el => el.classList.remove('active'));
            
            // 3. Mostrar vista seleccionada
            if(tab === 'feed') {
                document.getElementById('view-feed').classList.add('active');
                document.getElementById('sidebar-feed').classList.add('active'); // Sidebar solo en feed
                document.getElementById('main-container').classList.add('view-feed'); // Layout grid
                document.getElementById('main-container').classList.remove('view-full');
            } else {
                document.getElementById(`view-${tab}`).classList.add('active');
                document.getElementById('main-container').classList.remove('view-feed');
                document.getElementById('main-container').classList.add('view-full'); // Layout ancho completo
            }
        }

        // --- RENDERIZADO DEL FEED ---
        function updateFeed() {
            const getChecked = (sel) => Array.from(document.querySelectorAll(sel)).filter(c => c.checked).map(c => c.value);
            const genders = getChecked('.filter-group:nth-child(2) input');
            const levels = getChecked('.filter-group:nth-child(3) input');
            const ages = getChecked('.filter-group:nth-child(4) input');

            const filtered = users.filter(u => genders.includes(u.gender) && levels.includes(u.level) && ages.includes(u.type));
            const container = document.getElementById('cards-container');
            container.innerHTML = '';

            if(filtered.length === 0) {
                container.innerHTML = '<div style="color:white; grid-column:1/-1; text-align:center;">No hay resultados</div>'; return;
            }

            filtered.forEach(u => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-top">
                        <div class="avatar">${u.emoji}<div class="verified">‚úì</div></div>
                        <div class="info"><h3>${u.name}, ${u.age}</h3><span>üìç ${u.gym}</span></div>
                    </div>
                    <div class="card-body">
                        <p style="font-style:italic; color:#4B5563; margin-bottom:10px;">"${u.bio}"</p>
                        <div class="tags"><span class="tag tag-level">${u.level}</span><span class="tag tag-goal">${u.goal}</span></div>
                    </div>
                    <button class="card-btn" onclick="alert('Solicitud enviada a ${u.name}')">Conectar</button>
                `;
                container.appendChild(card);
            });
        }

        // --- RENDERIZADO DE EVENTOS ---
        function renderEvents() {
            const container = document.getElementById('events-container');
            let html = '';
            events.forEach(e => {
                html += `
                <div class="event-card">
                    <div class="event-date">
                        <span class="event-day">${e.day}</span>
                        <span class="event-month">${e.month}</span>
                    </div>
                    <div class="event-details">
                        <div class="event-status">‚úÖ ${e.status}</div>
                        <h3>${e.title}</h3>
                        <div class="event-meta">
                            <span>üë§ con <strong>${e.partner}</strong></span>
                            <span>‚è∞ ${e.time}</span>
                        </div>
                        <span style="color:var(--text-light);">üìç ${e.loc}</span>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        // --- RENDERIZADO DE MENSAJES ---
        function renderMessages() {
            const container = document.getElementById('messages-container');
            let html = '';
            messages.forEach(m => {
                const unreadClass = m.unread ? 'msg-unread' : '';
                const dot = m.unread ? '<span class="msg-badge"></span>' : '';
                html += `
                <div class="msg-item ${unreadClass}">
                    <div class="avatar">${m.emoji}</div>
                    <div class="msg-content">
                        <div class="msg-header">
                            <span class="msg-name">${m.name} ${dot}</span>
                            <span class="msg-time">${m.time}</span>
                        </div>
                        <p class="msg-preview">${m.text}</p>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        // --- INICIALIZACI√ìN ---
        window.onload = function() {
            updateFeed();
            renderEvents();
            renderMessages();
        };

    </script>
</body>
</html>